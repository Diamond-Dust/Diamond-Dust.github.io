<html>
	<head>
		<title> WordBox </title>
		<style>
			body {
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: space-between;
				height: 95vh;
			}
			
			h1 {
				font-family: "American Captain", "Tahoma", monospace;
				font-size: 4vh
			}
			
			footer {
				font-size: 1vh;
			}
		
			.word_box_container {
				display: flex;
				flex-direction: column;
				align-items: center;
			}
			
			.word_row_container {
				display: flex;
				flex-direction: row;
			}
			
			.word_box_cell {
				min-height: 7.5vh;
				min-width: 7.5vh;
				border-width: 0.075vw;
				border-color: black;
				border-style: solid;
				
				font-family: "American Captain", "Tahoma", monospace;
				font-size: 5vh;
				text-align: center;
				vertical-align: middle;
			}
			
			.word {
				font-family: "American Captain", "Tahoma", monospace;
				font-size: 1.5vh;
				text-align: center;
			}
			
			.score {
				font-family: "American Captain", "Tahoma", monospace;
				font-size: 2.5vh;
				text-align: center;
			}
			
			.rules {
				font-family: "American Captain", "Tahoma", monospace;
				font-size: 2vh;
				text-align: center;
			}
			
			.start {
				padding: 1vh 1.5vh;
				border: none;
				border-radius: 5%;
				color: white;
				background-color: #009900;
				font-family: "Tahoma", monospace;
				font-size: 2.75vh;
				margin: 0vh 1vw;
			}
			
			#letter_list_section {
				display: flex;
				justify-content: center;
				align-items: baseline;
				align-content: flex-end;
			}
			
			#letter_list {
				font-size: 3vh;
				color: gray;
			}
			
			#current_letter {
				font-size: 6vh;
			}
			
			#inv_letter_list {
				font-size: 3vh;
				visibility: hidden;
			}
			
			#buttons {
				display: flex;
				justify-content: center;
			}
		</style>
	</head>
	<body>
		<header>
			<h1> WORD BOX </h1>
		</header>
		<section>
			<div id="letter_list_section">
				<div id="letter_list"></div>
				<div id="current_letter"></div>
				<div id="inv_letter_list"></div>
			</div>
			<div id="word_box">
				<div class="word_box_container">
					<div class="word_row_container">
						<div id="wb00" class="word_box_cell"></div>
						<div id="wb01" class="word_box_cell"></div>
						<div id="wb02" class="word_box_cell"></div>
						<div id="wb03" class="word_box_cell"></div>
					</div>
					<div class="word_row_container">
						<div id="wb10" class="word_box_cell"></div>
						<div id="wb11" class="word_box_cell"></div>
						<div id="wb12" class="word_box_cell"></div>
						<div id="wb13" class="word_box_cell"></div>
					</div>
					<div class="word_row_container">
						<div id="wb20" class="word_box_cell"></div>
						<div id="wb21" class="word_box_cell"></div>
						<div id="wb22" class="word_box_cell"></div>
						<div id="wb23" class="word_box_cell"></div>
					</div>
					<div class="word_row_container">
						<div id="wb30" class="word_box_cell"></div>
						<div id="wb31" class="word_box_cell"></div>
						<div id="wb32" class="word_box_cell"></div>
						<div id="wb33" class="word_box_cell"></div>
					</div>
				</div>
			</div>
		</section>
		<article id="word_list">
			<p class="rules"> You will be given sixteen consecutive letters to place in the grid above.</p>
			<p class="rules"> Your score will be equal to the number of proper four-letter words created inside the grid.</p>
			<p class="rules">4 across, 4 vertically, 2 diagonally (from the left).</p>
			<p class="rules">Their appropriateness will be checked based on the word list provided by the Moby Project.</p>
			<p class="rules"> </p>
			<p class="rules">Have fun!</p>
		</article>
		<article id="buttons">
			<button type="button" class="start" id="daily">DAILY</button>
			<button type="button" class="start" id="train">TRAIN</button>
			<button type="button" class="start" id="share" style="display: none;">SHARE</button>
		</article>
		<footer>
			Łukasz Mrugała, 2022.
		</footer>
		
		<script>
			const allowedWords = new Set(['ABBA','ABED','ABET','ABLE','ABLY','ABRI','ABUT','ACHE','ACID','ACME','ACNE','ACRE','ACYL','ADIT','ADZE','AEON','AERO','AERY','AFAR','AGAR','AGED','AGEE','AGHA','AGIO','AGMA','AGOG','AGON','AGUE','AHEM','AHOY','AIDE','AIRS','AIRT','AIRY','AJAR','AKEE','AKIN','ALAR','ALAS','ALBA','ALEE','ALGA','ALIT','ALLY','ALMS','ALOE','ALOW','ALSO','ALTO','ALUM','AMAH','AMBO','AMEN','AMID','AMIE','AMIR','AMMO','AMOK','AMYL','ANAL','ANEW','ANIL','ANKH','ANNA','ANOA','ANON','ANTA','ANTE','ANTI','ANUS','APEX','APSE','AQUA','ARAK','ARCH','AREA','ARIA','ARID','ARIL','ARMS','ARMY','ARSE','ARTY','ARUM','ARVO','ARYL','ASCI','ASHY','ATOM','ATOP','AULD','AUNT','AURA','AUTO','AVER','AVID','AVOW','AWAY','AWED','AWRY','AXES','AXIL','AXIS','AXLE','AXON','AYAH','AYIN','AZAN','BABA','BABE','BABU','BABY','BACH','BACK','BADE','BAEL','BAGS','BAHT','BAIL','BAIT','BAKE','BALD','BALE','BALK','BALL','BALM','BANC','BAND','BANE','BANG','BANI','BANK','BANS','BANT','BARB','BARD','BARE','BARK','BARM','BARN','BASE','BASH','BASK','BASS','BAST','BATE','BATH','BATS','BATT','BAUD','BAWD','BAWL','BEAD','BEAK','BEAM','BEAN','BEAR','BEAT','BEAU','BECK','BEEF','BEEN','BEEP','BEER','BEET','BELL','BELT','BEMA','BEND','BENT','BERG','BERM','BEST','BETA','BETH','BEVY','BIAS','BIBB','BICE','BIDE','BIER','BIFF','BIKE','BILE','BILK','BILL','BIND','BINE','BIRD','BIRL','BIRR','BISE','BISK','BITE','BITT','BLAB','BLAH','BLAT','BLEB','BLEW','BLIP','BLOB','BLOC','BLOT','BLOW','BLUB','BLUE','BLUR','BOAR','BOAT','BODE','BODY','BOGY','BOIL','BOLA','BOLD','BOLE','BOLL','BOLO','BOLT','BOMB','BOND','BONE','BONY','BOOB','BOOK','BOOM','BOON','BOOR','BOOT','BORA','BORE','BORN','BORT','BOSH','BOSK','BOSS','BOTH','BOTS','BOTT','BOUT','BOWL','BOZO','BRAD','BRAE','BRAG','BRAN','BRAT','BRAW','BRAY','BRED','BREE','BREI','BREW','BRIG','BRIM','BRIO','BRIT','BROW','BRUT','BUBO','BUCK','BUFF','BUGS','BUHL','BUHR','BULB','BULK','BULL','BUMF','BUMP','BUND','BUNG','BUNK','BUNT','BUOY','BURG','BURL','BURN','BURP','BURR','BURY','BUSH','BUSK','BUSS','BUST','BUSY','BUTT','BUZZ','BYRE','BYTE','CADE','CADI','CAGE','CAIN','CAKE','CALF','CALK','CALL','CALM','CALX','CAME','CAMP','CANE','CANT','CAPE','CAPO','CARD','CARE','CARK','CARL','CARP','CART','CASA','CASE','CASH','CASK','CAST','CATE','CAUL','CAVE','CAVY','CEDE','CEIL','CELL','CELT','CENT','CERE','CERO','CESS','CHAD','CHAM','CHAP','CHAR','CHAT','CHAW','CHEF','CHEW','CHEZ','CHIC','CHIN','CHIP','CHIT','CHON','CHOP','CHOU','CHOW','CHUB','CHUG','CHUM','CIAO','CIST','CITE','CITY','CLAD','CLAM','CLAN','CLAP','CLAW','CLAY','CLEF','CLEM','CLEW','CLIP','CLOD','CLOG','CLOP','CLOS','CLOT','CLOY','CLUB','CLUE','COAL','COAT','COAX','COCA','COCK','COCO','CODA','CODE','COFF','COIF','COIL','COIN','COIR','COKE','COLA','COLD','COLE','COLT','COLY','COMA','COMB','COME','COMP','CONE','CONK','CONN','CONS','CONY','COOK','COOL','COOM','COON','COOP','COOT','COPE','COPY','CORD','CORE','CORF','CORK','CORM','CORN','COSH','COSS','COST','COSY','COTE','COTH','COUP','COVE','COWL','COXA','COZE','COZY','CRAB','CRAG','CRAM','CRAP','CRAW','CREW','CRIB','CROP','CROW','CRUD','CRUS','CRUX','CSCH','CUBE','CUFF','CULL','CULM','CULT','CURB','CURD','CURE','CURL','CURT','CUSK','CUSP','CUSS','CUTE','CYAN','CYMA','CYME','CYST','CZAR','DACE','DADO','DAFF','DAFT','DAGO','DAIS','DALE','DAME','DAMN','DAMP','DANG','DANK','DARE','DARG','DARK','DARN','DART','DASH','DATA','DATE','DATO','DAUB','DAWN','DAYS','DAZE','DEAD','DEAF','DEAL','DEAN','DEAR','DEBT','DECK','DEED','DEEM','DEEP','DEER','DEFT','DEFY','DEIL','DELE','DELI','DELL','DEME','DEMO','DEMY','DENE','DENT','DENY','DESK','DEVA','DEWY','DHOW','DIAL','DIBS','DICE','DICK','DIDO','DIET','DIKE','DILL','DIME','DINE','DING','DINK','DINT','DIRE','DIRK','DIRT','DISC','DISH','DISK','DIVA','DIVE','DOCK','DODO','DOER','DOES','DOFF','DOGE','DOGY','DOIT','DOLE','DOLL','DOLT','DOME','DONA','DONE','DONG','DOOM','DOOR','DOPE','DORM','DORP','DORY','DOSE','DOSS','DOST','DOTE','DOTH','DOUR','DOVE','DOWN','DOXY','DOZE','DOZY','DRAB','DRAG','DRAM','DRAT','DRAW','DRAY','DREE','DREG','DREW','DRIP','DROP','DRUB','DRUG','DRUM','DUAD','DUAL','DUCE','DUCK','DUCT','DUDE','DUDS','DUEL','DUES','DUET','DUFF','DUKE','DULL','DULY','DUMA','DUMB','DUMP','DUNE','DUNG','DUNK','DUNT','DUPE','DURO','DUSK','DUST','DUTY','DYAD','DYKE','DYNE','EACH','EARL','EARN','EASE','EAST','EASY','EATS','EBON','ECHO','ECHT','ECRU','EDDO','EDDY','EDGE','EDGY','EDIT','EGAD','EGIS','ELAN','ELSE','EMIR','EMIT','ENOL','ENOW','ENVY','EPIC','EPOS','ERGO','ERNE','ERST','ESPY','ESSE','ETCH','ETNA','ETUI','EVEN','EVER','EVIL','EWER','EXAM','EXIT','EXON','EYAS','EYED','EYOT','EYRA','EYRE','FACE','FACT','FADE','FADO','FAIL','FAIN','FAIR','FAKE','FALL','FAME','FANE','FANG','FARD','FARE','FARL','FARM','FARO','FART','FASH','FAST','FATE','FAUN','FAWN','FAZE','FEAL','FEAR','FEAT','FECK','FEED','FEEL','FEET','FELL','FELT','FEME','FEND','FERE','FERN','FESS','FETE','FEUD','FIAT','FICO','FIEF','FIFE','FILE','FILL','FILM','FILS','FIND','FINE','FINK','FINO','FIRE','FIRM','FIRN','FISC','FISH','FIST','FIVE','FIZZ','FLAG','FLAK','FLAM','FLAN','FLAP','FLAT','FLAW','FLAX','FLAY','FLEA','FLED','FLEE','FLEW','FLEX','FLEY','FLIP','FLIT','FLOC','FLOE','FLOG','FLOP','FLOW','FLUB','FLUE','FLUX','FOAL','FOAM','FOGY','FOIL','FOIN','FOLD','FOLK','FOND','FONT','FOOD','FOOL','FOOT','FORB','FORD','FORE','FORK','FORM','FORT','FOUL','FOUR','FOWL','FOXY','FRAE','FRAG','FRAP','FRAY','FREE','FRET','FRIG','FRIT','FROE','FROG','FROM','FROW','FRUG','FUEL','FULL','FUME','FUMY','FUND','FUNK','FURL','FURY','FUSE','FUSS','FUZE','FUZZ','FYKE','FYRD','GABY','GAFF','GAGA','GAGE','GAIN','GAIT','GALA','GALE','GALL','GAMB','GAME','GAMP','GAMY','GANG','GAOL','GAPE','GARB','GASH','GASP','GATE','GAUD','GAUR','GAVE','GAWK','GAZE','GEAN','GEAR','GEEK','GELD','GELT','GENE','GENS','GENT','GENU','GERM','GEST','GEUM','GHAT','GHEE','GIBE','GIFT','GILD','GILL','GILT','GIMP','GINK','GIRD','GIRL','GIRO','GIRT','GIST','GIVE','GLAD','GLEE','GLEN','GLEY','GLIA','GLIB','GLIM','GLOB','GLOP','GLOW','GLUE','GLUM','GLUT','GNAT','GNAW','GOAD','GOAL','GOAT','GOBO','GOBY','GOER','GOLD','GOLF','GONE','GONG','GOOD','GOOF','GOOK','GOON','GOOP','GORE','GORY','GOSH','GOUT','GOWK','GOWN','GRAB','GRAD','GRAM','GRAY','GREE','GREW','GREY','GRID','GRIG','GRIM','GRIN','GRIP','GRIT','GROG','GROT','GROW','GRUB','GRUM','GUAN','GUCK','GUFF','GUIB','GULA','GULF','GULL','GULP','GUNK','GURU','GUSH','GUST','GYBE','GYRE','GYRO','GYVE','HAAF','HAAR','HACK','HADE','HADJ','HAFT','HAIK','HAIL','HAIR','HAJJ','HAKE','HALE','HALF','HALL','HALM','HALO','HALT','HAME','HAND','HANG','HANK','HARD','HARE','HARK','HARL','HARM','HARP','HART','HASH','HASP','HAST','HATE','HATH','HAUL','HAVE','HAWK','HAZE','HAZY','HEAD','HEAL','HEAP','HEAR','HEAT','HECK','HEED','HEEL','HEFT','HEIR','HELD','HELL','HELM','HELP','HEMP','HENT','HERB','HERD','HERE','HERL','HERM','HERN','HERO','HERS','HEST','HETH','HICK','HIDE','HIGH','HIKE','HILL','HILT','HIND','HINT','HIRE','HISS','HIST','HIVE','HOAR','HOAX','HOBO','HOCK','HOLD','HOLE','HOLM','HOLP','HOLS','HOLT','HOLY','HOME','HOMO','HOMY','HONE','HONG','HONK','HOOD','HOOF','HOOK','HOOP','HOOT','HOPE','HORA','HORN','HOSE','HOST','HOUR','HOVE','HOWL','HUED','HUFF','HUGE','HULA','HULK','HULL','HUMP','HUNG','HUNK','HUNT','HURL','HURT','HUSH','HUSK','HWAN','HYLA','HYMN','HYPE','HYPO','IAMB','IBEX','IBIS','ICED','ICKY','ICON','IDEA','IDEM','IDES','IDLE','IDOL','IFFY','IKON','ILEX','IMAM','IMPI','INCH','INKY','INLY','INTO','IOTA','IRIS','IRON','ISLE','ITCH','ITEM','IWIS','IXIA','JACK','JADE','JAIL','JAMB','JANE','JAPE','JARL','JATO','JAWS','JAZZ','JEAN','JEEP','JEER','JEFE','JELL','JERK','JESS','JEST','JIBE','JILL','JILT','JINK','JINN','JINX','JIVA','JIVE','JOCK','JOEY','JOHN','JOIN','JOKE','JOLT','JOOK','JOSH','JOSS','JOTA','JOWL','JUBA','JUBE','JUDO','JUJU','JUMP','JUNK','JURA','JURY','JUST','JUTE','KADI','KAGU','KAIF','KAIL','KAIN','KAKA','KAKI','KALE','KALI','KAME','KAMI','KANA','KAON','KAPH','KAVA','KAYO','KCAL','KECK','KEEF','KEEK','KEEL','KEEN','KEEP','KELP','KELT','KENO','KEPI','KEPT','KERB','KERF','KERN','KERO','KHAN','KHAT','KIBE','KICK','KIEF','KIER','KIKE','KILL','KILN','KILO','KILT','KIND','KINE','KING','KINK','KINO','KIRK','KISH','KISS','KIST','KITE','KITH','KIVA','KIWI','KNAP','KNAR','KNEE','KNEW','KNIT','KNOB','KNOP','KNOT','KNOW','KNUR','KOAN','KOEL','KOHL','KOLA','KOLO','KOOK','KOPH','KOTO','KRIS','KUDU','KYAT','KYLE','LACE','LACK','LACY','LADE','LADY','LAIC','LAID','LAIN','LAIR','LAKE','LAKH','LAKY','LAMA','LAMB','LAME','LAMP','LAND','LANE','LANG','LANK','LARD','LARK','LASE','LASH','LASS','LAST','LATE','LATH','LAUD','LAVA','LAVE','LAWN','LAZE','LAZY','LEAD','LEAF','LEAK','LEAL','LEAN','LEAP','LEEK','LEER','LEES','LEET','LEFT','LEHR','LEND','LENO','LENS','LENT','LESS','LEST','LEVY','LEWD','LIAR','LICE','LICK','LIDO','LIED','LIEF','LIEN','LIEU','LIFE','LIFT','LIKE','LILT','LILY','LIMB','LIME','LIMN','LIMP','LIMY','LINE','LING','LINK','LINN','LINT','LION','LIRA','LISP','LIST','LIVE','LOAD','LOAF','LOAM','LOAN','LOBE','LOBO','LOCH','LOCI','LOCK','LOCO','LODE','LOFT','LOGE','LOGO','LOGY','LOIN','LOLL','LONE','LONG','LOOK','LOOM','LOON','LOOP','LOOT','LOPE','LORD','LORE','LORN','LORY','LOSE','LOSS','LOST','LOTA','LOTH','LOTS','LOUD','LOUP','LOUR','LOUT','LOVE','LUAU','LUCE','LUCK','LUES','LUFF','LUGE','LULL','LULU','LUMP','LUNE','LUNG','LURE','LURK','LUSH','LUST','LUTE','LUXE','LYNX','LYRE','LYSE','MACE','MADE','MAGE','MAGI','MAID','MAIL','MAIM','MAIN','MAKE','MAKO','MALE','MALL','MALM','MALT','MAMA','MANA','MANE','MANY','MARA','MARC','MARE','MARK','MARL','MART','MASH','MASK','MASS','MAST','MATE','MATH','MATT','MAUL','MAUN','MAXI','MAYA','MAZE','MAZY','MEAD','MEAL','MEAN','MEAT','MEED','MEEK','MEET','MELD','MELT','MEMO','MEND','MENE','MENU','MEOW','MERE','MESA','MESH','MESS','METE','MEWL','MEWS','MICA','MICE','MIDI','MIEN','MIFF','MIKE','MILD','MILE','MILK','MILL','MILO','MILT','MIME','MINA','MIND','MINE','MINI','MINK','MINT','MINX','MIRE','MIRK','MIRY','MISE','MISS','MIST','MITE','MITT','MOAN','MOAT','MOCK','MODE','MOIL','MOKE','MOLA','MOLD','MOLE','MOLL','MOLT','MOLY','MONG','MONK','MONO','MOOD','MOON','MOOR','MOOT','MOPE','MORA','MORE','MORN','MORT','MOSS','MOST','MOTE','MOTH','MOUE','MOVE','MOWN','MOXA','MUCH','MUCK','MUFF','MULE','MULL','MUMP','MUON','MURE','MURK','MUSE','MUSH','MUSK','MUSS','MUST','MUTE','MUTT','MUZZ','MYNA','MYTH','NAIF','NAIL','NAME','NAOS','NAPE','NARD','NAVE','NAVY','NEAP','NEAR','NEAT','NECK','NEED','NEON','NESS','NEST','NEWS','NEWT','NEXT','NICE','NICK','NIDE','NIGH','NINE','NIPA','NISI','NOCK','NODE','NOIL','NOMA','NONE','NOOK','NOON','NOPE','NORM','NOSE','NOSH','NOSY','NOTE','NOUN','NOUS','NOVA','NOWT','NUDE','NUKE','NULL','NUMB','NUTS','OAST','OATH','OBEY','OBIT','OBOE','ODDS','ODOR','ODYL','OFAY','OGEE','OGLE','OGRE','OILY','OINK','OKAY','OKRA','OLEO','OLID','OLIO','OLLA','OMEN','OMER','OMIT','ONCE','ONLY','ONTO','ONUS','ONYX','OOPS','OOZE','OOZY','OPAH','OPAL','OPEN','OPUS','ORAL','ORGY','ORLE','ORTS','ORYX','OTIC','OTTO','OUCH','OURS','OUST','OUZO','OVAL','OVEN','OVER','OVUM','OXEN','OYER','OYEZ','PACE','PACK','PACT','PAGE','PAID','PAIL','PAIN','PAIR','PALE','PALL','PALM','PALP','PALY','PANE','PANG','PANT','PAPA','PARA','PARD','PARE','PARK','PARR','PART','PASE','PASH','PASS','PAST','PATE','PATH','PAVE','PAWL','PAWN','PEAG','PEAK','PEAL','PEAN','PEAR','PEAT','PEBA','PECK','PEEK','PEEL','PEEN','PEEP','PEER','PELF','PELT','PEND','PENG','PENT','PEON','PERI','PERK','PERM','PERT','PESO','PEST','PHEW','PHIZ','PICA','PICE','PICK','PIED','PIER','PIET','PIKA','PIKE','PILE','PILI','PILL','PILY','PIMP','PINE','PING','PINK','PINT','PINY','PION','PIPE','PIRN','PISH','PISS','PITA','PITH','PITY','PLAN','PLAT','PLAY','PLEA','PLED','PLOD','PLOP','PLOT','PLOW','PLOY','PLUG','PLUM','PLUS','POCK','POCO','POEM','POET','POGY','POKE','POKY','POLE','POLL','POLO','POME','POMP','POND','PONE','PONS','PONY','POOD','POOH','POOL','POON','POOP','POOR','POPE','POPS','PORE','PORK','PORT','POSE','POSH','POST','POSY','POUF','POUR','POUT','PRAM','PRAT','PRAU','PRAY','PREY','PRIG','PRIM','PROA','PROD','PROG','PROM','PROP','PROW','PSIA','PSID','PUCA','PUCE','PUCK','PUFF','PUKE','PULE','PULI','PULL','PULP','PUMA','PUMP','PUNG','PUNK','PUNT','PUNY','PUPA','PURE','PURL','PURR','PUSH','PUSS','PUTT','PYRE','QADI','QOPH','QUAD','QUAG','QUAY','QUID','QUIP','QUIT','QUIZ','QUOD','RACE','RACK','RACY','RAFF','RAFT','RAGE','RAGI','RAGS','RAID','RAIL','RAIN','RAJA','RAKE','RAKI','RALE','RAMP','RAND','RANG','RANI','RANK','RANT','RAPE','RAPT','RARE','RASE','RASH','RASP','RATA','RATE','RATH','RAVE','RAZE','RAZZ','READ','REAL','REAM','REAP','REAR','RECK','REDD','REDE','REDO','REED','REEF','REEK','REEL','REFT','REIN','REIS','RELY','REND','RENT','REPP','RESH','REST','RETE','RHEA','RIAL','RICE','RICH','RICK','RIDE','RIEL','RIFE','RIFF','RIFT','RILE','RILL','RIME','RIND','RING','RINK','RIOT','RIPE','RISE','RISK','RITE','RIVE','ROAD','ROAM','ROAN','ROAR','ROBE','ROCK','RODE','ROIL','ROLE','ROLL','ROMP','ROOD','ROOF','ROOK','ROOM','ROOT','ROPE','ROPY','ROSE','ROSY','ROTA','ROTE','ROTL','ROUE','ROUP','ROUT','ROUX','ROVE','RUBE','RUBY','RUCK','RUDD','RUDE','RUFF','RUIN','RULE','RUMP','RUNE','RUNG','RUNT','RUSE','RUSH','RUSK','RUST','RUTH','SACK','SAFE','SAGA','SAGE','SAGO','SAID','SAIL','SAIN','SAKE','SAKI','SALE','SALT','SAME','SAND','SANE','SANG','SANK','SANS','SARD','SARI','SASH','SASS','SATE','SAVE','SAWN','SCAB','SCAD','SCAG','SCAN','SCAR','SCAT','SCOP','SCOT','SCOW','SCUD','SCUM','SCUP','SCUT','SEAL','SEAM','SEAR','SEAT','SECH','SECT','SEED','SEEK','SEEL','SEEM','SEEN','SEEP','SEER','SELF','SELL','SEMI','SEND','SENT','SEPT','SERA','SERE','SERF','SETA','SETT','SEWN','SEXT','SEXY','SHAD','SHAG','SHAH','SHAM','SHAW','SHAY','SHED','SHEW','SHIN','SHIP','SHIT','SHIV','SHOD','SHOE','SHOO','SHOP','SHOT','SHOW','SHUL','SHUN','SHUT','SHWA','SICK','SIDE','SIFT','SIGH','SIGN','SIKA','SIKE','SILK','SILL','SILO','SILT','SIMA','SIMP','SINE','SING','SINH','SINK','SIRE','SITE','SIZE','SKAT','SKEG','SKEP','SKEW','SKID','SKIM','SKIN','SKIP','SKIT','SLAB','SLAG','SLAM','SLAP','SLAT','SLAW','SLAY','SLED','SLEW','SLIM','SLIP','SLIT','SLOB','SLOE','SLOG','SLOP','SLOT','SLOW','SLUB','SLUE','SLUG','SLUM','SLUR','SLUT','SMEW','SMOG','SMUG','SMUT','SNAG','SNAP','SNIP','SNOB','SNOT','SNOW','SNUB','SNUG','SOAK','SOAP','SOAR','SOCK','SODA','SOFA','SOFT','SOIL','SOKE','SOLA','SOLD','SOLE','SOLO','SOMA','SOME','SONE','SONG','SOON','SOOT','SORA','SORB','SORE','SORI','SORN','SORT','SOUL','SOUP','SOUR','SPAE','SPAN','SPAR','SPAT','SPAY','SPEC','SPED','SPEW','SPIC','SPIN','SPIT','SPIV','SPOT','SPRY','SPUD','SPUE','SPUN','SPUR','STAB','STAG','STAR','STAY','STEM','STEP','STET','STEW','STIR','STOA','STOB','STOP','STOW','STUB','STUD','STUN','SUCH','SUCK','SUDD','SUDS','SUET','SUIT','SULK','SUMO','SUMP','SUNG','SUNK','SUNN','SURD','SURE','SURF','SWAB','SWAG','SWAM','SWAN','SWAP','SWAT','SWAY','SWIG','SWIM','SWOB','SWOP','SWOT','SWUM','SYCE','SYNC','SYNE','TABU','TACE','TACK','TACO','TACT','TAEL','TAHR','TAIL','TAIN','TAKE','TALC','TALE','TALK','TALL','TAME','TAMP','TANA','TANG','TANH','TANK','TAPE','TAPS','TARE','TARN','TARO','TARP','TART','TASK','TASS','TAUT','TAXI','TEAK','TEAL','TEAM','TEAR','TEAT','TEEM','TEEN','TELL','TEND','TENT','TERM','TERN','TEST','TETH','TEXT','THAN','THAR','THAT','THAW','THEE','THEM','THEN','THEW','THEY','THIN','THIS','THOU','THUD','THUG','THUS','TICK','TIDE','TIDY','TIED','TIER','TIFF','TIKE','TIKI','TILE','TILL','TILT','TIME','TINE','TING','TINT','TINY','TIPI','TIRE','TIRO','TITI','TOAD','TODY','TOED','TOFT','TOGA','TOGS','TOIL','TOLA','TOLD','TOLE','TOLL','TOLU','TOMB','TOME','TONE','TONG','TONY','TOOK','TOOL','TOOT','TOPE','TOPI','TOPS','TORE','TORN','TORR','TORT','TOSH','TOSS','TOTE','TOUR','TOUT','TOWN','TRAM','TRAP','TRAY','TREE','TREF','TREK','TRET','TREY','TRIG','TRIM','TRIO','TRIP','TROD','TROT','TROW','TROY','TRUE','TRUG','TSAR','TUBA','TUBE','TUCK','TUFA','TUFF','TUFT','TUNA','TUNE','TURD','TURF','TURN','TUSH','TUSK','TUTU','TWIG','TWIN','TWIT','TYKE','TYPE','TYPO','TYRO','TZAR','UGLY','ULNA','UNDO','UNIT','UNTO','UPAS','UPDO','UPON','UREA','URGE','URIC','URUS','USED','USER','UVEA','VAIL','VAIN','VAIR','VALE','VAMP','VANE','VANG','VARA','VARY','VASE','VAST','VEAL','VEER','VEIL','VEIN','VELD','VENA','VEND','VENT','VERB','VERT','VERY','VEST','VETO','VIAL','VICE','VIDE','VIEW','VILE','VINA','VINE','VINO','VIOL','VISA','VISE','VITA','VIVA','VIVE','VOID','VOLE','VOLT','VOTE','WACK','WADE','WADI','WAFT','WAGE','WAIF','WAIL','WAIN','WAIT','WAKE','WALE','WALK','WALL','WAME','WAND','WANE','WANT','WARD','WARE','WARM','WARN','WARP','WART','WARY','WASH','WASP','WAST','WATT','WAVE','WAVY','WAXY','WAYS','WEAK','WEAL','WEAN','WEAR','WEED','WEEK','WEEN','WEEP','WEFT','WEIR','WEKA','WELD','WELL','WELT','WEND','WENT','WEPT','WERE','WERT','WEST','WHAM','WHAP','WHAT','WHEN','WHET','WHEW','WHEY','WHIM','WHIN','WHIP','WHIT','WHIZ','WHOA','WHOM','WHOP','WICK','WIDE','WIFE','WILD','WILE','WILL','WILT','WILY','WIND','WINE','WING','WINK','WINO','WINY','WIPE','WIRE','WIRY','WISE','WISH','WISP','WIST','WITE','WITH','WITS','WIVE','WOAD','WOKE','WOLD','WOLF','WOMB','WONT','WOOD','WOOF','WOOL','WORD','WORE','WORK','WORM','WORN','WORT','WOVE','WRAP','WREN','WRIT','WYND','YANK','YARD','YARE','YARN','YAWL','YAWN','YAWP','YAWS','YEAH','YEAN','YEAR','YEGG','YELD','YELL','YELP','YETI','YLEM','YOGA','YOGH','YOGI','YOKE','YOLK','YONI','YORE','YOUR','YOWL','YUAN','YULE','YURT','YWIS','ZANY','ZARF','ZEAL','ZEBU','ZERO','ZEST','ZETA','ZINC','ZING','ZONE','ZOOM','ZOON'])
			
			previousLetters = '';
			currentLetter = ' ';
			letterGrid = [['', '', '', ''], ['', '', '', ''], ['', '', '', ''], ['', '', '', '']]
			gameStarted = false;
			
			const alphabet = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'];
			const alphabet_frequencies = [0.09653365578395808, 0.0281136638452237, 0.03083434099153567, 0.03839177750906892, 0.10026199113260782, 0.023982265215638857, 0.02599758162031439, 0.030632809351068116, 0.056731156791616284, 0.0053405884723901655, 0.02962515114873035, 0.06539701733172108, 0.033958081418782746, 0.0471584038694075, 0.07889963724304716, 0.035872632003224506, 0.0011084240225715438, 0.05904877065699315, 0.05290205562273277, 0.056932688432083836, 0.03899637243047158, 0.009673518742442563, 0.022470777912132204, 0.0038291011688835145, 0.02196694881096332, 0.0053405884723901655];
			const alphabet_cumsum_frequencies = [0.09653365578395808, 0.12464731962918177, 0.15548166062071744, 0.19387343812978636, 0.29413542926239417, 0.318117694478033, 0.3441152760983474, 0.3747480854494155, 0.4314792422410318, 0.43681983071342195, 0.46644498186215233, 0.5318419991938734, 0.5658000806126562, 0.6129584844820637, 0.6918581217251109, 0.7277307537283354, 0.7288391777509069, 0.7878879484079, 0.8407900040306328, 0.8977226924627166, 0.9367190648931882, 0.9463925836356308, 0.9688633615477631, 0.9726924627166466, 0.9946594115276098, 1.0];
			
			//---------------- https://stackoverflow.com/a/19301306 ------------------
			var m_w = 123456789;
			var m_z = 987654321;
			var mask = 0xffffffff;
			var seedVal = -1;

			// Takes any integer
			function seed(i) {
				m_w = (123456789 + i) & mask;
				m_z = (987654321 - i) & mask;
			}

			// Returns number between 0 (inclusive) and 1.0 (exclusive),
			// just like Math.random().
			function random()
			{
				m_z = (36969 * (m_z & 65535) + (m_z >> 16)) & mask;
				m_w = (18000 * (m_w & 65535) + (m_w >> 16)) & mask;
				var result = ((m_z << 16) + (m_w & 65535)) >>> 0;
				result /= 4294967296;
				return result;
			}
			//---------------- https://stackoverflow.com/a/19301306 ------------------
			
			function randomLetter() {
				roll = random();
				for (var i=0; i < 26; i++) {
					if (alphabet_cumsum_frequencies[i] > roll) {
						return alphabet[i];
					}
				}
			}
			
			function nextLetter() {
				//TODO
				letter = randomLetter();
				previousLetters += currentLetter;
				currentLetter = letter;
			}
			
			function updateLetters() {
				document.getElementById('letter_list').innerHTML = previousLetters;
				document.getElementById('current_letter').innerHTML = currentLetter;
				document.getElementById('inv_letter_list').innerHTML = previousLetters;
			}
			
			function processScore() {
				words = [];
				for (var i = 0; i < 4; i++) {
					words.push(letterGrid[i][0] + letterGrid[i][1] + letterGrid[i][2] + letterGrid[i][3]);
				}
				for (var i = 0; i < 4; i++) {
					words.push(letterGrid[0][i] + letterGrid[1][i] + letterGrid[2][i] + letterGrid[3][i]);
				}
				words.push(letterGrid[0][0] + letterGrid[1][1] + letterGrid[2][2] + letterGrid[3][3]);
				words.push(letterGrid[3][0] + letterGrid[2][1] + letterGrid[1][2] + letterGrid[0][3]);
				
				score = 0;
				
				wordList = document.getElementById("word_list");
				for (var i = 0; i < 10; i++) {
					paragraph = document.createElement("p");
					paragraph.setAttribute("class", "word");
					paragraph.innerHTML = words[i];
					if (allowedWords.has(words[i])) {
						paragraph.setAttribute("style", "color: green;");
						score++;
					} else {
						paragraph.setAttribute("style", "color: red;");
					}
					wordList.appendChild(paragraph);
				}
				
				paragraph = document.createElement("p");
				paragraph.setAttribute("class", "score");
				paragraph.innerHTML = score;
				wordList.appendChild(paragraph);
				
				if (seedVal != -1) {
					document.getElementById('share').removeAttribute('style');
				}
				
				return score;
			}
			
			function cellClick() {
				if (gameStarted) {
					cell = document.getElementById(this.id);
					if (cell.innerHTML == '') {
						cell.innerHTML = currentLetter;
						column = parseInt(this.id.charAt(3));
						row = parseInt(this.id.charAt(2));
						letterGrid[row][column] = currentLetter;
						if (previousLetters.length < 16) {
							nextLetter();
							updateLetters();
						} else {
							previousLetters += currentLetter;
							currentLetter = '';
							updateLetters();
							processScore();
						}
					} else {
					
					}
				}
			}
			
			function startGame() {
				nextLetter();
				updateLetters();
				document.getElementById('daily').style.display = "none";
				document.getElementById('train').style.display = "none";
				rules = document.getElementsByClassName('rules');
				for (var i = 0; i < rules.length; i++) {
					rules.item(i).style.display = "none";
				}
				gameStarted = true;
			}
			
			function startTrainGame() {
				d = new Date();
				seed(d.getTime());
				startGame();
			}
			
			function startDailyGame() {
				d = new Date();
				seedVal = d.getFullYear()*10000 + d.getMonth()*100 + d.getDate();
				seed(seedVal);
				startGame();
			}
			
			function shareGame() {
				dateFromSeed = seedVal.toString();
				dateFromSeed = dateFromSeed.slice(0, 4) + '-' + dateFromSeed.slice(4, 6) + '-' + dateFromSeed.slice(6, 8);
			
				copyText = 'WordBox ' + dateFromSeed + ' ' + document.getElementsByClassName('score')[0].innerText + '\n\n';
				
				for (var i = 0; i < 4; i++) {
					copyText += '||`' + letterGrid[i][0] + letterGrid[i][1] + letterGrid[i][2] + letterGrid[i][3] + '`||\n';
				}
			
				navigator.clipboard.writeText(copyText);
				
				document.getElementById(this.id).style.visibility = "hidden";
			}
			
			function addOnClicks() {
				cells = document.getElementsByClassName('word_box_cell');
				for (var i = 0; i < cells.length; i++) {
					cells.item(i).addEventListener('click', cellClick)
				}
				
				document.getElementById('daily').addEventListener('click', startDailyGame)
				document.getElementById('train').addEventListener('click', startTrainGame)
				document.getElementById('share').addEventListener('click', shareGame)
			}
			
			function setUp() {
				addOnClicks()
			}
			
			setUp()
		</script>
	</body>
</html>